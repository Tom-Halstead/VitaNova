# -----------------------------------------------------------------------------
# DEV profile ? for local development
# -----------------------------------------------------------------------------

# --- DataSource (prefer env; provide non-secret fallbacks) ---
# If you already use the remote Aurora in dev, set DEV_DB_* envs once locally.
# Otherwise point to a local Postgres in DEV_DATASOURCE_URL, DEV_DB_USERNAME/PASSWORD.
spring.datasource.url=jdbc:h2:mem:testdb;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=none
spring.flyway.enabled=false


# Actuator
management.endpoints.web.exposure.include=health,info

# OAuth2 client (non-secrets here; secrets via env)
spring.security.oauth2.client.registration.cognito.client-id=${COGNITO_CLIENT_ID:}
spring.security.oauth2.client.registration.cognito.client-secret=${COGNITO_CLIENT_SECRET:}
spring.security.oauth2.client.registration.cognito.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.cognito.scope=openid,profile,email
# Dynamic redirect works for http://localhost:8080 without hard-coding
spring.security.oauth2.client.registration.cognito.redirect-uri={baseUrl}/login/oauth2/code/cognito
spring.security.oauth2.client.registration.cognito.provider=cognito

# DEV cookies & local UX
server.servlet.session.cookie.same-site=Lax
server.servlet.session.cookie.secure=false

# DEV logging (what you had before)
logging.level.org.springframework.security.oauth2.client=DEBUG
logging.level.org.springframework.security.oauth2.core=DEBUG
logging.level.org.springframework.web.servlet=DEBUG
logging.level.org.springframework.security=DEBUG



