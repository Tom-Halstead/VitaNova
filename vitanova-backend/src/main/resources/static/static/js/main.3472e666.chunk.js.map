{"version":3,"sources":["components/ThemeSwitcher.js","utils/authUtils.js","components/NavBar.js","components/ProtectedRoute.js","pages/Home.js","components/InteractiveChart.js","components/Card.js","pages/Dashboard.js","components/MoodInput.js","components/PhotoUploader.js","pages/NewEntry.js","pages/EntryList.js","pages/EntryDetail.js","pages/ReflectiveInsights.js","api/goalsApi.js","pages/Settings.js","App.js","reportWebVitals.js","index.js"],"names":["ThemeSwitcher","theme","setTheme","useState","useEffect","t","document","documentElement","getAttribute","React","createElement","onClick","async","next","toggleTheme","setAttribute","className","isAuthenticated","localStorage","getItem","NavBar","useLocation","pathname","NavLink","to","_ref","isActive","_ref2","_ref3","_ref4","_ref5","removeItem","window","location","ProtectedRoute","children","auth","setAuth","fetch","credentials","then","res","ok","catch","Navigate","replace","Home","href","rel","InteractiveChart","data","ResponsiveContainer","width","height","LineChart","XAxis","dataKey","YAxis","Tooltip","Line","type","stroke","Card","title","Timeline","setData","fetchSummary","Trends","fetchMoodTrend","Insights","Dashboard","_summary$totalEntries","_summary$avgMoodPre","_summary$currentStrea","summary","setSummary","end","Routes","Route","path","element","totalEntries","avgMoodPre","currentStreak","MoodInput","label","value","onChange","min","max","e","target","PhotoUploader","onFiles","accept","multiple","files","NewEntry","text","setText","date","setDate","moodPre","setMoodPre","moodPost","setMoodPost","photos","setPhotos","onSubmit","preventDefault","form","FormData","append","Array","from","forEach","f","createEntry","placeholder","EntryList","entries","setEntries","listEntries","map","key","entryId","Link","entryDate","slice","EntryDetail","id","useParams","entry","setEntry","getEntry","p","photoId","src","url","alt","ReflectiveInsights","goals","setGoals","newType","setNewType","newTarget","setNewTarget","newDue","setNewDue","headers","Authorization","json","listGoals","handleUpdate","g","find","goalId","updated","method","Content-Type","body","JSON","stringify","updateGoal","currentValue","prev","x","created","createGoal","targetValue","dueDate","goal","Settings","exportData","deleteAccount","App","BrowserRouter","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.3472e666.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { toggleTheme } from \"../api/settingsApi\";\r\nexport default function ThemeSwitcher() {\r\n  const [theme, setTheme] = useState(\"light\");\r\n  useEffect(() => {\r\n    const t = document.documentElement.getAttribute(\"data-theme\");\r\n    if (t) setTheme(t);\r\n  }, []);\r\n  const flip = async () => {\r\n    const next = theme === \"light\" ? \"dark\" : \"light\";\r\n    await toggleTheme(next);\r\n    document.documentElement.setAttribute(\"data-theme\", next);\r\n    setTheme(next);\r\n  };\r\n  return (\r\n    <button\r\n      onClick={flip}\r\n      className=\"p-2 rounded bg-gray-200 hover:bg-gray-300\"\r\n    >\r\n      {theme === \"light\" ? \"🌙\" : \"☀️\"}\r\n    </button>\r\n  );\r\n}\r\n","export function setToken(token) {\r\n  localStorage.setItem(\"token\", token);\r\n}\r\nexport function getToken() {\r\n  return localStorage.getItem(\"token\");\r\n}\r\nexport function isAuthenticated() {\r\n  return !!getToken();\r\n}\r\n","import React from \"react\";\r\nimport { NavLink, useLocation } from \"react-router-dom\";\r\nimport ThemeSwitcher from \"./ThemeSwitcher\";\r\nimport { isAuthenticated } from \"../utils/authUtils\";\r\n\r\nexport default function NavBar() {\r\n  const location = useLocation();\r\n  if (location.pathname === \"/\") return null;\r\n\r\n  return (\r\n    <nav className=\"bg-white shadow px-6 py-4 sticky top-0 z-10\">\r\n      <div className=\"max-w-7xl mx-auto flex justify-between items-center\">\r\n        <div className=\"flex space-x-6\">\r\n          <NavLink\r\n            to=\"/dashboard\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-indigo-600 font-semibold border-b-2 border-indigo-600\"\r\n                : \"text-gray-600 hover:text-indigo-600\"\r\n            }\r\n          >\r\n            Dashboard\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/new-entry\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-indigo-600 font-semibold\"\r\n                : \"text-gray-600 hover:text-indigo-600\"\r\n            }\r\n          >\r\n            New Entry\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/entries\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-indigo-600 font-semibold\"\r\n                : \"text-gray-600 hover:text-indigo-600\"\r\n            }\r\n          >\r\n            Entries\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/insights-goals\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-indigo-600 font-semibold\"\r\n                : \"text-gray-600 hover:text-indigo-600\"\r\n            }\r\n          >\r\n            Reflective Insights & Goals\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/settings\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-indigo-600 font-semibold\"\r\n                : \"text-gray-600 hover:text-indigo-600\"\r\n            }\r\n          >\r\n            Settings\r\n          </NavLink>\r\n        </div>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <ThemeSwitcher />\r\n          {isAuthenticated() && (\r\n            <button\r\n              onClick={() => {\r\n                localStorage.removeItem(\"token\");\r\n                window.location = \"/\";\r\n              }}\r\n              className=\"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600\"\r\n            >\r\n              Logout\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute({ children }) {\r\n  const [auth, setAuth] = useState(\"checking\"); // 'checking' | 'ok' | 'fail';\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:8080/api/users/me\", {\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) setAuth(\"ok\");\r\n        else setAuth(\"fail\");\r\n      })\r\n      .catch(() => setAuth(\"fail\"));\r\n  }, []);\r\n\r\n  if (auth === \"checking\") return <div>Loading…</div>;\r\n  if (auth === \"fail\") return <Navigate to=\"/\" replace />;\r\n  return children;\r\n}\r\n","import React from \"react\";\r\nexport default function Home() {\r\n  return (\r\n    <div className=\"home-container\">\r\n      <h1 className=\"text-4xl font-bold text-indigo-600 mb-4\">\r\n        Welcome to Vita Nova\r\n      </h1>\r\n      <p className=\"text-lg text-gray-700 mb-8\">\r\n        Track your mood, journal entries, and goals effortlessly.\r\n      </p>\r\n      <a\r\n        href=\"/oauth2/authorization/cognito\"\r\n        className=\"btn btn-primary\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        Sign In / Sign Up\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nexport default function InteractiveChart({ data }) {\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height={300}>\r\n      <LineChart data={data}>\r\n        <XAxis dataKey=\"date\" />\r\n        <YAxis />\r\n        <Tooltip />\r\n        <Line type=\"monotone\" dataKey=\"avgMoodPre\" stroke=\"#8884d8\" />\r\n        <Line type=\"monotone\" dataKey=\"avgMoodPost\" stroke=\"#82ca9d\" />\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Card({ title, className = \"\", children }) {\r\n  return (\r\n    <div className={`${className} p-6 bg-white rounded shadow`}>\r\n      <h3 className=\"text-sm text-gray-500 mb-2\">{title}</h3>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Routes, Route, NavLink } from \"react-router-dom\";\r\nimport { fetchSummary, fetchMoodTrend } from \"../api/dashboardApi\";\r\nimport InteractiveChart from \"../components/InteractiveChart\";\r\nimport Card from \"../components/Card\";\r\n\r\nfunction Timeline() {\r\n  const [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    fetchSummary().then(setData);\r\n  }, []);\r\n  return <InteractiveChart data={data} />;\r\n}\r\nfunction Trends() {\r\n  const [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    fetchMoodTrend().then(setData);\r\n  }, []);\r\n  return <InteractiveChart data={data} />;\r\n}\r\nfunction Insights() {\r\n  return <div className=\"text-gray-600\">Insights coming soon.</div>;\r\n}\r\n\r\nexport default function Dashboard() {\r\n  const [summary, setSummary] = useState({});\r\n  useEffect(() => {\r\n    fetchSummary().then(setSummary);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <nav className=\"flex space-x-6 border-b pb-3\">\r\n        <NavLink\r\n          end\r\n          to=\"\"\r\n          className={({ isActive }) =>\r\n            isActive\r\n              ? \"text-indigo-600 font-semibold\"\r\n              : \"text-gray-600 hover:text-indigo-600\"\r\n          }\r\n        >\r\n          Timeline\r\n        </NavLink>\r\n        <NavLink\r\n          to=\"trends\"\r\n          className={({ isActive }) =>\r\n            isActive\r\n              ? \"text-indigo-600 font-semibold\"\r\n              : \"text-gray-600 hover:text-indigo-600\"\r\n          }\r\n        >\r\n          Trends\r\n        </NavLink>\r\n        <NavLink\r\n          to=\"insights\"\r\n          className={({ isActive }) =>\r\n            isActive\r\n              ? \"text-indigo-600 font-semibold\"\r\n              : \"text-gray-600 hover:text-indigo-600\"\r\n          }\r\n        >\r\n          Insights\r\n        </NavLink>\r\n      </nav>\r\n\r\n      <div className=\"space-y-6\">\r\n        <Routes>\r\n          <Route path=\"/\" element={<Timeline />} />\r\n          <Route path=\"trends\" element={<Trends />} />\r\n          <Route path=\"insights\" element={<Insights />} />\r\n        </Routes>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-6\">\r\n        <Card title=\"Total Entries\" className=\"card\">\r\n          <div className=\"value\">{summary.totalEntries ?? \"—\"}</div>\r\n        </Card>\r\n        <Card title=\"Avg Mood Pre\" className=\"card\">\r\n          <div className=\"value\">{summary.avgMoodPre ?? \"—\"}</div>\r\n        </Card>\r\n        <Card title=\"Current Streak\" className=\"card\">\r\n          <div className=\"value\">{summary.currentStreak ?? \"—\"}</div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport default function MoodInput({ label, value, onChange }) {\r\n  return (\r\n    <div className=\"mb-4\">\r\n      <label className=\"block text-sm text-gray-700\">{label}</label>\r\n      <input\r\n        type=\"range\"\r\n        min=\"1\"\r\n        max=\"5\"\r\n        value={value}\r\n        onChange={(e) => onChange(+e.target.value)}\r\n        className=\"w-full\"\r\n      />\r\n      <div className=\"text-center text-gray-600 mt-1\">{value}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport default function PhotoUploader({ onFiles }) {\r\n  return (\r\n    <div className=\"mb-4\">\r\n      <label className=\"block text-sm text-gray-700 mb-1\">Upload Photos</label>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        multiple\r\n        onChange={(e) => onFiles(e.target.files)}\r\n        className=\"\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport MoodInput from \"../components/MoodInput\";\r\nimport PhotoUploader from \"../components/PhotoUploader\";\r\nimport { createEntry } from \"../api/entriesApi\";\r\n\r\nexport default function NewEntry() {\r\n  const [text, setText] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [moodPre, setMoodPre] = useState(3);\r\n  const [moodPost, setMoodPost] = useState(3);\r\n  const [photos, setPhotos] = useState([]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const form = new FormData();\r\n    form.append(\"text\", text);\r\n    form.append(\"entryDate\", date);\r\n    form.append(\"moodPre\", moodPre);\r\n    form.append(\"moodPost\", moodPost);\r\n    Array.from(photos).forEach((f) => form.append(\"photos[]\", f));\r\n    await createEntry(form);\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit}\r\n      className=\"space-y-6 max-w-xl mx-auto p-4 bg-white rounded shadow\"\r\n    >\r\n      <textarea\r\n        value={text}\r\n        onChange={(e) => setText(e.target.value)}\r\n        placeholder=\"Write your journal entry...\"\r\n        className=\"w-full h-32 border rounded p-3 focus:border-indigo-600\"\r\n      />\r\n      <div className=\"flex flex-col sm:flex-row sm:space-x-4\">\r\n        <input\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={(e) => setDate(e.target.value)}\r\n          className=\"border rounded p-2 flex-1 focus:border-indigo-600\"\r\n        />\r\n        <div className=\"flex-1\">\r\n          <MoodInput\r\n            label=\"Mood Before\"\r\n            value={moodPre}\r\n            onChange={setMoodPre}\r\n          />\r\n        </div>\r\n        <div className=\"flex-1\">\r\n          <MoodInput\r\n            label=\"Mood After\"\r\n            value={moodPost}\r\n            onChange={setMoodPost}\r\n          />\r\n        </div>\r\n      </div>\r\n      <PhotoUploader onFiles={setPhotos} />\r\n      <button type=\"submit\" className=\"btn btn-primary w-full\">\r\n        Save Entry\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { listEntries } from \"../api/entriesApi\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function EntryList() {\r\n  const [entries, setEntries] = useState([]);\r\n  useEffect(() => {\r\n    listEntries(0, 10).then(setEntries);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-4\">\r\n      <h2 className=\"text-2xl font-semibold\">Your Entries</h2>\r\n      <ul className=\"divide-y\">\r\n        {entries.map((e) => (\r\n          <li key={e.entryId} className=\"py-2\">\r\n            <Link\r\n              to={`/entries/${e.entryId}`}\r\n              className=\"text-indigo-600 hover:underline\"\r\n            >\r\n              {e.entryDate}: {e.text.slice(0, 30)}...\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getEntry } from \"../api/entriesApi\";\r\nimport MoodInput from \"../components/MoodInput\";\r\n\r\nexport default function EntryDetail() {\r\n  const { id } = useParams();\r\n  const [entry, setEntry] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getEntry(id).then(setEntry);\r\n  }, [id]);\r\n  if (!entry) return <div className=\"p-4\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-4 bg-white rounded shadow max-w-2xl mx-auto\">\r\n      <h2 className=\"text-2xl font-semibold\">Entry on {entry.entryDate}</h2>\r\n      <p className=\"text-gray-700 whitespace-pre-wrap\">{entry.text}</p>\r\n      <div className=\"flex space-x-4\">\r\n        <div className=\"flex-1\">\r\n          <MoodInput\r\n            label=\"Mood Before\"\r\n            value={entry.moodPre}\r\n            onChange={() => {}}\r\n          />\r\n        </div>\r\n        <div className=\"flex-1\">\r\n          <MoodInput\r\n            label=\"Mood After\"\r\n            value={entry.moodPost}\r\n            onChange={() => {}}\r\n          />\r\n        </div>\r\n      </div>\r\n      {/* Photo gallery stub */}\r\n      <div className=\"grid grid-cols-3 gap-2\">\r\n        {entry.photos.map((p) => (\r\n          <img\r\n            key={p.photoId}\r\n            src={p.url}\r\n            alt=\"Entry\"\r\n            className=\"w-full h-24 object-cover rounded\"\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { listGoals, createGoal, updateGoal } from \"../api/goalsApi\";\r\nimport Card from \"../components/Card\";\r\n\r\nexport default function ReflectiveInsights() {\r\n  const [goals, setGoals] = useState([]);\r\n  const [newType, setNewType] = useState(\"\");\r\n  const [newTarget, setNewTarget] = useState(0);\r\n  const [newDue, setNewDue] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    listGoals().then(setGoals);\r\n  }, []);\r\n\r\n  const handleCreate = async () => {\r\n    const created = await createGoal({\r\n      type: newType,\r\n      targetValue: newTarget,\r\n      dueDate: newDue,\r\n    });\r\n    setGoals((prev) => [...prev, created]);\r\n    setNewType(\"\");\r\n    setNewTarget(0);\r\n    setNewDue(\"\");\r\n  };\r\n  const handleUpdate = async (id) => {\r\n    const g = goals.find((g) => g.goalId === id);\r\n    const updated = await updateGoal(id, { currentValue: g.currentValue + 1 });\r\n    setGoals((prev) => prev.map((x) => (x.goalId === id ? updated : x)));\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <h2 className=\"text-2xl font-semibold\">Reflective Insights & Goals</h2>\r\n      <div className=\"flex space-x-2\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Goal type\"\r\n          value={newType}\r\n          onChange={(e) => setNewType(e.target.value)}\r\n          className=\"border p-2 rounded flex-1 focus:border-indigo-600\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Target\"\r\n          value={newTarget}\r\n          onChange={(e) => setNewTarget(+e.target.value)}\r\n          className=\"border p-2 rounded w-24 focus:border-indigo-600\"\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={newDue}\r\n          onChange={(e) => setNewDue(e.target.value)}\r\n          className=\"border p-2 rounded focus:border-indigo-600\"\r\n        />\r\n        <button onClick={handleCreate} className=\"btn btn-primary\">\r\n          Add Goal\r\n        </button>\r\n      </div>\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n        {goals.map((goal) => (\r\n          <Card key={goal.goalId} title={goal.type} className=\"card\">\r\n            <div className=\"text-lg font-medium\">\r\n              {goal.currentValue}/{goal.targetValue}\r\n            </div>\r\n            <button\r\n              onClick={() => handleUpdate(goal.goalId)}\r\n              className=\"mt-2 px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700\"\r\n            >\r\n              +1\r\n            </button>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export async function listGoals() {\r\n  return fetch(\"/api/goals\", {\r\n    headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n  }).then((res) => res.json());\r\n}\r\n\r\nexport async function createGoal(data) {\r\n  return fetch(\"/api/goals\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n    },\r\n    body: JSON.stringify(data),\r\n  }).then((res) => res.json());\r\n}\r\n\r\nexport async function updateGoal(id, data) {\r\n  return fetch(`/api/goals/${id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n    },\r\n    body: JSON.stringify(data),\r\n  }).then((res) => res.json());\r\n}\r\n","import React from \"react\";\r\nimport { exportData, deleteAccount } from \"../api/settingsApi\";\r\n\r\nexport default function Settings() {\r\n  return (\r\n    <div className=\"p-6 bg-white rounded shadow max-w-md mx-auto space-y-4\">\r\n      <h2 className=\"text-2xl font-semibold\">Settings & Privacy</h2>\r\n      <button onClick={exportData} className=\"btn btn-primary w-full\">\r\n        Export My Data\r\n      </button>\r\n      <button onClick={deleteAccount} className=\"btn btn-danger w-full\">\r\n        Delete My Account\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","// src/App.js\nimport React from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\n\nimport NavBar from './components/NavBar';\nimport ProtectedRoute from './components/ProtectedRoute';\n\nimport Home from './pages/Home';\nimport Dashboard from './pages/Dashboard';\nimport NewEntry from './pages/NewEntry';\nimport EntryList from './pages/EntryList';\nimport EntryDetail from './pages/EntryDetail';\nimport ReflectiveInsights from './pages/ReflectiveInsights';\nimport Settings from './pages/Settings';\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      {/* Top‐level navigation (hidden on Home) */}\n      <NavBar />\n\n      <Routes>\n        {/* Public landing page */}\n        <Route path=\"/\" element={<Home />} />\n\n        {/* Dashboard and sub‐routes */}\n        <Route\n          path=\"/dashboard/*\"\n          element={\n            <ProtectedRoute>\n              <Dashboard />\n            </ProtectedRoute>\n          }\n        />\n\n        {/* New journal entry */}\n        <Route\n          path=\"/new-entry\"\n          element={\n            <ProtectedRoute>\n              <NewEntry />\n            </ProtectedRoute>\n          }\n        />\n\n        {/* Entries list */}\n        <Route\n          path=\"/entries\"\n          element={\n            <ProtectedRoute>\n              <EntryList />\n            </ProtectedRoute>\n          }\n        />\n\n        {/* Entry detail */}\n        <Route\n          path=\"/entries/:id\"\n          element={\n            <ProtectedRoute>\n              <EntryDetail />\n            </ProtectedRoute>\n          }\n        />\n\n        {/* Reflective Insights & Goals */}\n        <Route\n          path=\"/insights-goals\"\n          element={\n            <ProtectedRoute>\n              <ReflectiveInsights />\n            </ProtectedRoute>\n          }\n        />\n\n        {/* Settings */}\n        <Route\n          path=\"/settings\"\n          element={\n            <ProtectedRoute>\n              <Settings />\n            </ProtectedRoute>\n          }\n        />\n\n        {/* Catch-all: redirect to Home (or you can render a 404 component) */}\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/* src/index.js */\nimport React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// You can log performance metrics or send to analytics\nreportWebVitals();\n\n// With these in place, running `npm start` will:\n// - Serve `index.html` from public/\n// - Initialize React at src/index.js\n// - Mount <App />: sets up router, NavBar, and page components\n// - Hitting `/` shows Home.js; after Cognito login, redirection to `/dashboard/...` renders Dashboard.js and subviews\n"],"sourceRoot":""}